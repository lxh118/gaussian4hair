# Gaussian4Hair é¡¹ç›®ç»“æ„

ç®€æ´é¡¹ç›®ç»“æ„ï¼Œä¸“æ³¨äºæ ¸å¿ƒåŠŸèƒ½ã€‚

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶ç»“æ„

```
gaussian4hair/
â”œâ”€â”€ README.md                    # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ environment.yml              # ç¯å¢ƒé…ç½®
â”œâ”€â”€ LICENSE.md                  # è®¸å¯è¯
â”‚
â”œâ”€â”€ train.py                    # è®­ç»ƒè„šæœ¬ (ä¸»è¦)
â”œâ”€â”€ prepare_data.py             # æ•°æ®å‡†å¤‡å·¥å…· (é‡è¦)
â”œâ”€â”€ run.sh                      # å¿«é€Ÿè®­ç»ƒè„šæœ¬
â”œâ”€â”€ remove_ids.py               # PLYæ–‡ä»¶IDå±æ€§æ¸…ç†å·¥å…·
â”‚
â”œâ”€â”€ arguments/                  # å‚æ•°é…ç½®
â”‚   â””â”€â”€ __init__.py            # å¤´å‘å‚æ•°ã€æ¨¡å‹å‚æ•°ç­‰
â”‚
â”œâ”€â”€ scene/                     # åœºæ™¯ç®¡ç†
â”‚   â”œâ”€â”€ __init__.py           # åœºæ™¯ç±»
â”‚   â”œâ”€â”€ gaussian_model.py     # é«˜æ–¯æ¨¡å‹ (å¤´å‘å¢å¼º)
â”‚   â”œâ”€â”€ cameras.py            # ç›¸æœºå·¥å…·
â”‚   â”œâ”€â”€ colmap_loader.py      # COLMAPåŠ è½½å™¨
â”‚   â””â”€â”€ dataset_readers.py    # æ•°æ®è¯»å–å™¨
â”‚
â”œâ”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ camera_utils.py       # ç›¸æœºå·¥å…·
â”‚   â”œâ”€â”€ general_utils.py      # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ graphics_utils.py     # å›¾å½¢å·¥å…·
â”‚   â”œâ”€â”€ image_utils.py        # å›¾åƒå·¥å…·
â”‚   â””â”€â”€ loss_utils.py         # æŸå¤±å‡½æ•°
â”‚
â”œâ”€â”€ gaussian_renderer/         # æ¸²æŸ“å™¨
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ network_gui.py
â”‚
â”œâ”€â”€ submodules/               # å­æ¨¡å—ä¾èµ–
â”‚   â”œâ”€â”€ diff-gaussian-rasterization/
â”‚   â”œâ”€â”€ fused-ssim/
â”‚   â””â”€â”€ simple-knn/
â”‚
â”œâ”€â”€ configs/                  # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ alignment_config.json # å¯¹é½é…ç½®æ¨¡æ¿
â”‚
â”œâ”€â”€ docs/                     # æ–‡æ¡£
  â””â”€â”€ hair_alignment_guide.md # å¤´å‘å¯¹é½æŒ‡å—

```

## ğŸš€ ä¸»è¦å·¥å…·

### 1. **æ•°æ®å¤„ç†** - `prepare_data.py`
å®Œæ•´çš„å¤´å‘æ•°æ®é¢„å¤„ç†å·¥å…·ï¼ŒåŒ…å«ï¼š
- è‡ªåŠ¨Procrusteså¯¹é½
- æ‰‹åŠ¨ç²¾è°ƒæ”¯æŒ
- å¤šæ ¼å¼æ”¯æŒ (.hair/.ply)
- å¯è§†åŒ–è¾“å‡º

### 2. **è®­ç»ƒ** - `train.py`
å¤´å‘æ„ŸçŸ¥çš„3Dé«˜æ–¯è®­ç»ƒï¼š
- å¤´å‘ä¸“ç”¨æŸå¤±å‡½æ•°
- æ™ºèƒ½è‡´å¯†åŒ–
- ä½ç½®å›ºå®šé€‰é¡¹

### 3. **å¿«é€Ÿå¯åŠ¨** - `run.sh`
ç®€åŒ–çš„è®­ç»ƒè„šæœ¬ï¼š
- å›ºå®š7000æ¬¡è¿­ä»£è®­ç»ƒ
- è‡ªåŠ¨å‚æ•°é…ç½®

### 4. **ç¯å¢ƒé…ç½®** - `setup.sh`
ä¸€é”®ç¯å¢ƒæ­å»ºï¼š
- Condaç¯å¢ƒåˆ›å»º
- ä¾èµ–å®‰è£…
- å­æ¨¡å—ç¼–è¯‘

### 5. **å…¼å®¹æ€§å·¥å…·** - `remove_ids.py`
PLYæ–‡ä»¶å…¼å®¹æ€§å¤„ç†ï¼š
- ç§»é™¤group_idå’Œstrand_idå±æ€§
- æé«˜ä¸æ ‡å‡†é«˜æ–¯æŸ¥çœ‹å™¨çš„å…¼å®¹æ€§
- æ”¯æŒæ‰¹é‡å¤„ç†

## ğŸ“‹ ä½¿ç”¨æµç¨‹

1. **ç¯å¢ƒæ­å»º**:
   ```bash
   ./setup.sh
   ```

2. **æ•°æ®å‡†å¤‡**:
   ```bash
   python prepare_data.py --colmap_path /data/colmap --hair_data /data/hair.hair --output_dir /output
   ```

3. **è®­ç»ƒ**:
   ```bash
   ./run.sh /output/colmap /output/aligned_hair.hair /models
   ```

4. **æ¸²æŸ“**:
   ```bash
   python render.py -m /models/standard
   ```

5. **æ¸…ç†PLYæ–‡ä»¶** (å¯é€‰):
   ```bash
   python remove_ids.py input.ply output.ply
   ```

